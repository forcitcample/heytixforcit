/*! {{pkg.displayName}} {{pkg.version}} - //larsjung.de/qrcode - MIT License */// Uses [QR Code Generator](http://www.d-project.com/qrcode/index.html) (MIT), appended to the end of this file.
// Kudos to [jquery.qrcode.js](http://github.com/jeromeetienne/jquery-qrcode) (MIT).
(function(e){"use strict";var t=function(e,t,n,r){var i=qrcode(n,t);i.addData(e);i.make();r=r||0;var s=i.getModuleCount(),o=i.getModuleCount()+2*r,u=function(e,t){e-=r;t-=r;return e<0||e>=s||t<0||t>=s?!1:i.isDark(e,t)},a=function(e,t,n,r){var i=this.isDark,s=1/o;this.isDark=function(o,u){var a=u*s,f=o*s,l=a+s,c=f+s;return i(o,u)&&(e>l||a>n||t>c||f>r)}};this.text=e;this.level=t;this.version=n;this.moduleCount=o;this.isDark=u;this.addBlank=a},n=function(){var e=document.createElement("canvas");return!!e.getContext&&!!e.getContext("2d")}(),r=Object.prototype.toString.call(window.opera)!=="[object Opera]",i=function(e,n,r,i,s){r=Math.max(1,r||1);i=Math.min(40,i||40);for(var o=r;o<=i;o+=1)try{return new t(e,n,o,s)}catch(u){}},s=function(t,n,r){var i=r.size,s="bold "+r.mSize*i+"px "+r.fontname,o=e("<canvas/>")[0].getContext("2d");o.font=s;var u=o.measureText(r.label).width,a=r.mSize,f=u/i,l=(1-f)*r.mPosX,c=(1-a)*r.mPosY,h=l+f,p=c+a,d=.01;r.mode===1?t.addBlank(0,c-d,i,p+d):t.addBlank(l-d,c-d,h+d,p+d);n.fillStyle=r.fontcolor;n.font=s;n.fillText(r.label,l*i,c*i+.75*r.mSize*i)},o=function(e,t,n){var r=n.size,i=n.image.naturalWidth||1,s=n.image.naturalHeight||1,o=n.mSize,u=o*i/s,a=(1-u)*n.mPosX,f=(1-o)*n.mPosY,l=a+u,c=f+o,h=.01;n.mode===3?e.addBlank(0,f-h,r,c+h):e.addBlank(a-h,f-h,l+h,c+h);t.drawImage(n.image,a*r,f*r,u*r,o*r)},u=function(t,n,r){if(e(r.background).is("img"))n.drawImage(r.background,0,0,r.size,r.size);else if(r.background){n.fillStyle=r.background;n.fillRect(r.left,r.top,r.size,r.size)}var i=r.mode;i===1||i===2?s(t,n,r):(i===3||i===4)&&o(t,n,r)},a=function(e,t,n,r,i,s,o,u){e.isDark(o,u)&&t.rect(r,i,s,s)},f=function(e,t,n,r,i,s,o,u,a,f){o?e.moveTo(t+s,n):e.moveTo(t,n);if(u){e.lineTo(r-s,n);e.arcTo(r,n,r,i,s)}else e.lineTo(r,n);if(a){e.lineTo(r,i-s);e.arcTo(r,i,t,i,s)}else e.lineTo(r,i);if(f){e.lineTo(t+s,i);e.arcTo(t,i,t,n,s)}else e.lineTo(t,i);if(o){e.lineTo(t,n+s);e.arcTo(t,n,r,n,s)}else e.lineTo(t,n)},l=function(e,t,n,r,i,s,o,u,a,f){if(o){e.moveTo(t+s,n);e.lineTo(t,n);e.lineTo(t,n+s);e.arcTo(t,n,t+s,n,s)}if(u){e.moveTo(r-s,n);e.lineTo(r,n);e.lineTo(r,n+s);e.arcTo(r,n,r-s,n,s)}if(a){e.moveTo(r-s,i);e.lineTo(r,i);e.lineTo(r,i-s);e.arcTo(r,i,r-s,i,s)}if(f){e.moveTo(t+s,i);e.lineTo(t,i);e.lineTo(t,i-s);e.arcTo(t,i,t+s,i,s)}},c=function(e,t,n,r,i,s,o,u){var a=e.isDark,c=r+s,h=i+s,p=n.radius*s,d=o-1,v=o+1,m=u-1,g=u+1,y=a(o,u),b=a(d,m),w=a(d,u),E=a(d,g),S=a(o,g),x=a(v,g),T=a(v,u),N=a(v,m),C=a(o,m);y?f(t,r,i,c,h,p,!w&&!C,!w&&!S,!T&&!S,!T&&!C):l(t,r,i,c,h,p,w&&C&&b,w&&S&&E,T&&S&&x,T&&C&&N)},h=function(t,n,i){var s=t.moduleCount,o=i.size/s,u=a,f,l;r&&i.radius>0&&i.radius<=.5&&(u=c);n.beginPath();for(f=0;f<s;f+=1)for(l=0;l<s;l+=1){var h=i.left+l*o,p=i.top+f*o,d=o;u(t,n,i,h,p,d,f,l)}if(e(i.fill).is("img")){n.strokeStyle="rgba(0,0,0,0.5)";n.lineWidth=2;n.stroke();var v=n.globalCompositeOperation;n.globalCompositeOperation="destination-out";n.fill();n.globalCompositeOperation=v;n.clip();n.drawImage(i.fill,0,0,i.size,i.size);n.restore()}else{n.fillStyle=i.fill;n.fill()}},p=function(t,n){var r=i(n.text,n.ecLevel,n.minVersion,n.maxVersion,n.quiet);if(!r)return null;var s=e(t).data("qrcode",r),o=s[0].getContext("2d");u(r,o,n);h(r,o,n);return s},d=function(t){var n=e("<canvas/>").attr("width",t.size).attr("height",t.size);return p(n,t)},v=function(t){return e("<img/>").attr("src",d(t)[0].toDataURL("image/png"))},m=function(t){var n=i(t.text,t.ecLevel,t.minVersion,t.maxVersion,t.quiet);if(!n)return null;var r=t.size,s=t.background,o=Math.floor,u=n.moduleCount,a=o(r/u),f=o(.5*(r-a*u)),l,c,h={position:"relative",left:0,top:0,padding:0,margin:0,width:r,height:r},p={position:"absolute",padding:0,margin:0,width:a,height:a,"background-color":t.fill},d=e("<div/>").data("qrcode",n).css(h);s&&d.css("background-color",s);for(l=0;l<u;l+=1)for(c=0;c<u;c+=1)n.isDark(l,c)&&e("<div/>").css(p).css({left:f+c*a,top:f+l*a}).appendTo(d);return d},g=function(e){return n&&e.render==="canvas"?d(e):n&&e.render==="image"?v(e):m(e)},y={render:"canvas",minVersion:1,maxVersion:40,ecLevel:"L",left:0,top:0,size:200,fill:"#000",background:null,text:"no text",radius:0,quiet:0,mode:0,mSize:.1,mPosX:.5,mPosY:.5,label:"no label",fontname:"sans",fontcolor:"#000",image:null};e.fn.qrcode=function(t){var n=e.extend({},y,t);return this.each(function(){this.nodeName.toLowerCase()==="canvas"?p(this,n):e(this).append(g(n))})}})(jQuery);