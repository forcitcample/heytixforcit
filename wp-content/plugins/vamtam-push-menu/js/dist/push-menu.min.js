!function(a){"use strict";if(Modernizr.touch){var b=null,c=null,d=!1,e=!1;window.WPVQuickTap=function(f){var g=this;f.on("touchstart",function(a){b=a.timeStamp,c=a.originalEvent.touches.item(0),d=!0,e=!1}),f.on("touchend",function(d){var f=d.timeStamp-b,h=g.getMovement(c,d.originalEvent.changedTouches.item(0)),i=!e&&5>h&&200>f;i&&(a(d.target).trigger("wpvQuickTap",d),d.preventDefault())}),f.on("scroll mousemove touchmove",function(a){"scroll"!==a.type&&"mousemove"!==a.type&&"touchmove"!==a.type||!d||e||(e=!0)})},WPVQuickTap.prototype.getMovement=function(a,b){if(!a||!b)return 0;var c=b.screenX-a.screenX,d=b.screenY-a.screenY;return Math.sqrt(c*c+d*d)}}}(jQuery),function(a,b){"use strict";function c(a,b){if(!a)return!1;for(var c=a.target||a.srcElement||a||!1;c&&c.id!==b;)c=c.parentNode||!1;return c!==!1}function d(a,c,e,f){return f=f||0,a.id.indexOf(c)>=0?f:(b(a).hasClass(e)&&++f,a.parentNode&&d(a.parentNode,c,e,f))}function e(a,c,d){this.el=a,this.$el=b(a),this.trigger=c,this.options=b.extend(this.defaults,d),(Modernizr.csstransforms3d||Modernizr.csstransforms)&&this._init()}(Modernizr.csstransforms3d||Modernizr.csstransforms)&&(e.prototype={defaults:{backClass:"mp-back",duration:.7},_init:function(){this.open=!1,this.level=0,this.wrapper=b("#mp-pusher"),this.levels=Array.prototype.slice.call(this.el.querySelectorAll("div.mp-level")),this.$levels=b(this.levels);var a=this;this.levels.forEach(function(b){b.setAttribute("data-level",d(b,a.el.id,"mp-level"))}),this.menuItems=Array.prototype.slice.call(this.el.querySelectorAll("li")),this.levelBack=Array.prototype.slice.call(this.el.querySelectorAll("."+this.options.backClass)),this.eventtype="click",this._initInteractions()},_initEvents:function(){var d=this;this.trigger.bind("touchstart.openpushmenu, click.openpushmenu",function(e){e.stopPropagation(),e.preventDefault(),d.open?d._resetMenu():(d._openMenu(),b(a).bind("touchstart.closepushmenu click.closepushmenu",function(e){d.open&&!c(e.target,d.el.id)&&(e.preventDefault(),d._resetMenu(),b(a).unbind("touchstart.closepushmenu click.closepushmenu"))}))})},_initInteractions:function(){var c=this;a.vamtampmgs=a.GreenSockGlobals={},a._gsQueue=a._gsDefine=null,Modernizr.load([{load:[a.WpvPushMenu.jspath+"gsap/Draggable.min.js",a.WpvPushMenu.jspath+"gsap/ThrowPropsPlugin.min.js",a.WpvPushMenu.jspath+"gsap/TweenLite.min.js",a.WpvPushMenu.jspath+"gsap/CSSPlugin.min.js"],complete:function(){a.GreenSockGlobals=a._gsQueue=a._gsDefine=null,d()}}]);var d=function(){var d=b(a),e=!0,f=b("header.main-header .logo-wrapper");c.$el.css({height:"auto",bottom:0});var g=function(){d.width()>a.WpvPushMenu.limit&&c._resetMenu(!0)},h=function(){if(c.trigger.is(":visible")&&!c.open){var a=c.wrapper.offset().top;c.$el.css("top",a),c.trigger.css({top:f.offset().top+f.outerHeight()/2-a,left:"100%"}),e&&(e=!1,c.trigger.appendTo(c.$el),vamtampmgs.TweenLite.to(c.trigger,.5,{autoAlpha:1,ease:vamtampmgs.Power4.easeOut}))}};d.bind("resize touchmove",_.debounce(g,100)),d.resize(_.debounce(h,1e3)),g(),h(),c._initEvents(),c.draggable=vamtampmgs.Draggable.create(c.$el.find("> ul > li > .mp-level"),{type:"scrollTop",edgeResistance:.7,throwProps:!0,dragClickables:!0,onClick:function(d){var e=b(d.target);if(e.hasClass("mp-back"))return d.preventDefault(),d.stopPropagation(),c.level=b(e).closest(".mp-level").data("level")-1,void(0===c.level?c._resetMenu():c._closeMenu());var f=e.find("+ .mp-level");if(f.length)d.preventDefault(),d.stopPropagation(),e.closest(".mp-level").addClass("mp-level-overlay"),c._openMenu(f);else{var g=e.attr("href");if(g){try{var h=String(e.attr("target")||"self").replace(/^_/,"");"blank"===h||"new"===h?a.open(g):a[h].location=g}catch(i){console.log(d)}c._resetMenu()}}}}),c.$el.find("> ul > li > .mp-level").css("overflow-y","hidden")}},_openMenu:function(a){++this.level,document.getElementsByTagName("html")[0].style.overflow="hidden","draggable"in this&&this.draggable[0].scrollProxy.scrollTop(0);(this.level-1)*this.options.levelSpacing,this.el.offsetWidth;1===this.level?(this.wrapper.addClass("mp-pushed"),vamtampmgs.TweenLite.to(this.$el,this.options.duration,{x:270,ease:vamtampmgs.Power3.easeOut}),this.open=!0):a&&(a.closest("li").siblings().hide(),a.prev().hide(),this.$levels.not(a).find("> .mp-level-header, > div > .mp-level-header").hide(),a.find("> .mp-level-header, > div > .mp-level-header").show()),b(a||this.levels[0]).addClass("mp-level-open")},_resetMenu:function(c){for(this.wrapper.removeClass("mp-pushed"),vamtampmgs.TweenLite.to(this.$el,this.options.duration,{x:0,ease:vamtampmgs.Power2.easeOut}),document.getElementsByTagName("html")[0].style.overflow="",this.open=!1;this.level-->=0;)this._closeMenu();this.level=0,c||(b(a).resize(),setTimeout(function(){b(a).resize()},500))},_closeMenu:function(){var a=this;this.$levels.each(function(c,d){d=b(d),d.data("level")>=a.level+1?d.removeClass("mp-level-open mp-level-overlay"):Number(d.data("level"))===a.level&&(d.removeClass("mp-level-overlay"),a.$levels.not(d).find("> .mp-level-header, > div > .mp-level-header").hide(),d.find("> .mp-level-header, > div > .mp-level-header").show(),d.prev().show(),d.find("li, li > a").show())})}},a.MlPushMenu=e)}(window,jQuery),function(a){"use strict";if(Modernizr.csstransforms3d||Modernizr.csstransforms){var b={Models:{},Collections:{},Views:{}};b.Models.Root=Backbone.Model.extend({defaults:{title:"",description:"",type:"root",children:[]},initialize:function(){this.children=new b.Collections.Item}}),b.Models.Item=Backbone.Model.extend({defaults:{url:"",title:"",attr_title:"",description:"",classes:[],type:"root",children:[]}}),b.Collections.Item=Backbone.Collection.extend({model:b.Models.Item}),b.Collections.Root=Backbone.Collection.extend({model:b.Models.Root}),b.Views.Root=Backbone.View.extend({el:a(".main-container"),initialize:function(){this.template=a("#wpvpm-menu-root").html(),_.bindAll(this,"render"),this.listenTo(this.model,"change",this.render),this.render()},render:function(){var c=new b.Views.Item({model:new b.Models.Item(this.model.toJSON())}).render(),d=a("<div></div>").addClass("mp-scroller").attr("id","mp-scroller"),e=a("<div></div>").addClass("mp-pusher").attr("id","mp-pusher");a(this.el).wrap(e).before(_.template(this.template)({content:c})),a(this.el).wrap(d)}}),b.Views.Item=Backbone.View.extend({initialize:function(){this.template=a("#wpvpm-menu-item").html(),_.bindAll(this,"render")},render:function(){var a="";return _(this.model.get("children")).each(function(c){var d=new b.Views.Item({model:new b.Models.Item(c)});a+=d.render()}),_.template(this.template)(_.extend(this.model.toJSON(),{content:a}))}}),a(function(){if("WpvPushMenu"in window&&WpvPushMenu.items){new b.Views.Root({model:new b.Models.Root(WpvPushMenu.items)});var c=a("#mp-menu-trigger");c&&new MlPushMenu(document.getElementById("mp-menu"),c,{})}})}}(jQuery);