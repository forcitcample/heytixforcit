jQuery(document).ready(function(){jQuery("#wc_product_finder #add_row").css("display","block").click(function(e){e.preventDefault();jQuery("#add_row .loader").show();jQuery("#add_row .plus").hide();var t=parseInt(jQuery("#last_row").text()),n=t+1,r=jQuery("#show_cat").val(),i=jQuery("#search_attributes").val();jQuery.ajax({type:"GET",url:wc_product_finder_data.ajax_url,data:"action=wc_product_finder_add_row&row="+n+"&show_cat="+r+"&search_attributes="+i,dataType:"html",success:function(e){if(e){jQuery("#last_row").before(e);jQuery("#last_row").text(n);jQuery("#search_row_"+n).slideDown("fast",function(){jQuery("#add_row .plus").show();jQuery("#add_row .loader").hide()})}}})});var e=function(e,t){if(e.length>0)if(e=="none"){jQuery("#val_"+t).attr("disabled","disabled");jQuery("#val_"+t+" option").remove();jQuery("#val_"+t).append('<option value="none" selected="selected">Select criteria</option>')}else{jQuery("#val_"+t).attr("disabled","disabled");jQuery("#val_"+t+" option").remove();jQuery("#val_"+t).append('<option value="none" selected="selected">Loading options...</option>');jQuery.ajax({type:"GET",url:wc_product_finder_data.ajax_url,data:"action=wc_product_finder_get_tax_options&row="+t+"&tax="+e,dataType:"html",success:function(e){if(e){jQuery("#val_"+t+" option").remove();jQuery("#val_"+t).append(e);jQuery("#val_"+t).removeAttr("disabled")}else{jQuery("#val_"+t+" option").remove();jQuery("#val_"+t).append('<option value="none" selected="selected">No options found</option>')}}})}},t=function(e){jQuery("#search_row_"+e).slideUp("fast",function(){jQuery("#search_row_"+e).remove()})};jQuery("#wc_product_finder").on("change",".taxonomy",function(){var t=this.value,n=this.id;n=n.replace("tax_","");e(t,n)});jQuery("#wc_product_finder").on("click",".remove_row",function(e){e.preventDefault();var n=this.id;n=n.replace("remove_","");t(n)})});